[{"E:\\_coding\\dental\\client\\src\\index.tsx":"1","E:\\_coding\\dental\\client\\src\\App.tsx":"2","E:\\_coding\\dental\\client\\src\\globalStyles.tsx":"3","E:\\_coding\\dental\\client\\src\\components\\index.ts":"4","E:\\_coding\\dental\\client\\src\\components\\Navbar\\Navbar.tsx":"5","E:\\_coding\\dental\\client\\src\\components\\Navbar\\Navbar.elements.tsx":"6","E:\\_coding\\dental\\client\\src\\components\\Toolbar\\Toolbar.elements.tsx":"7","E:\\_coding\\dental\\client\\src\\components\\Toolbar\\Toolbar.tsx":"8","E:\\_coding\\dental\\client\\src\\pages\\Dashboard.tsx":"9","E:\\_coding\\dental\\client\\src\\pages\\index.tsx":"10","E:\\_coding\\dental\\client\\src\\components\\Navbar\\MobileNavbar.tsx":"11","E:\\_coding\\dental\\client\\src\\components\\Navbar\\MobileNavbar.elements.tsx":"12","E:\\_coding\\dental\\client\\src\\store\\store.ts":"13","E:\\_coding\\dental\\client\\src\\store\\slices\\modalsSlice.ts":"14","E:\\_coding\\dental\\client\\src\\components\\modals\\MainModal.tsx":"15","E:\\_coding\\dental\\client\\src\\components\\modals\\Modals.elements.tsx":"16","E:\\_coding\\dental\\client\\src\\components\\modals\\AddPatientContent.tsx":"17","E:\\_coding\\dental\\client\\src\\components\\elements\\Elements.tsx":"18","E:\\_coding\\dental\\client\\src\\components\\elements\\Input.tsx":"19","E:\\_coding\\dental\\client\\src\\components\\elements\\Select.tsx":"20","E:\\_coding\\dental\\client\\src\\components\\modals\\NewAppointmentContent.tsx":"21","E:\\_coding\\dental\\client\\src\\components\\elements\\SelectWithInput.tsx":"22","E:\\_coding\\dental\\client\\src\\components\\modals\\PatientFormContent.tsx":"23","E:\\_coding\\dental\\client\\src\\graphql\\queries\\patient.ts":"24","E:\\_coding\\dental\\client\\src\\graphql\\queries\\dentist.ts":"25","E:\\_coding\\dental\\client\\src\\graphql\\queries\\treatment.ts":"26","E:\\_coding\\dental\\client\\src\\components\\daypicker\\CustomDayPicker.tsx":"27","E:\\_coding\\dental\\client\\src\\components\\daypicker\\CustomDayPicke.Elements.tsx":"28","E:\\_coding\\dental\\client\\src\\components\\daypicker\\SelectedDaysDisplay.tsx":"29","E:\\_coding\\dental\\client\\src\\components\\daypicker\\SelectedDaysDisplay.Elements.tsx":"30","E:\\_coding\\dental\\client\\src\\graphql\\queries\\appointments.ts":"31"},{"size":1133,"mtime":1611749805742,"results":"32","hashOfConfig":"33"},{"size":1004,"mtime":1611749805711,"results":"34","hashOfConfig":"33"},{"size":1828,"mtime":1611765310323,"results":"35","hashOfConfig":"33"},{"size":171,"mtime":1611569682769,"results":"36","hashOfConfig":"33"},{"size":2909,"mtime":1611569682758,"results":"37","hashOfConfig":"33"},{"size":3274,"mtime":1611569682749,"results":"38","hashOfConfig":"33"},{"size":14036,"mtime":1611756287190,"results":"39","hashOfConfig":"33"},{"size":2192,"mtime":1611153982986,"results":"40","hashOfConfig":"33"},{"size":144,"mtime":1611569682771,"results":"41","hashOfConfig":"33"},{"size":53,"mtime":1611061325490,"results":"42","hashOfConfig":"33"},{"size":1608,"mtime":1611569682742,"results":"43","hashOfConfig":"33"},{"size":1529,"mtime":1611569682741,"results":"44","hashOfConfig":"33"},{"size":435,"mtime":1611569682772,"results":"45","hashOfConfig":"33"},{"size":1601,"mtime":1611858927522,"results":"46","hashOfConfig":"33"},{"size":1636,"mtime":1611749805730,"results":"47","hashOfConfig":"33"},{"size":1315,"mtime":1611749805731,"results":"48","hashOfConfig":"33"},{"size":3420,"mtime":1611749805728,"results":"49","hashOfConfig":"33"},{"size":3807,"mtime":1611749805721,"results":"50","hashOfConfig":"33"},{"size":854,"mtime":1611749805724,"results":"51","hashOfConfig":"33"},{"size":4752,"mtime":1611859580260,"results":"52","hashOfConfig":"33"},{"size":5365,"mtime":1611859358498,"results":"53","hashOfConfig":"33"},{"size":3994,"mtime":1611749805726,"results":"54","hashOfConfig":"33"},{"size":2017,"mtime":1611749805734,"results":"55","hashOfConfig":"33"},{"size":850,"mtime":1611749805735,"results":"56","hashOfConfig":"33"},{"size":747,"mtime":1611749805735,"results":"57","hashOfConfig":"33"},{"size":622,"mtime":1611749805735,"results":"58","hashOfConfig":"33"},{"size":4678,"mtime":1611859244894,"results":"59","hashOfConfig":"33"},{"size":1533,"mtime":1611762406359,"results":"60","hashOfConfig":"33"},{"size":1644,"mtime":1611861816803,"results":"61","hashOfConfig":"33"},{"size":2107,"mtime":1611861852506,"results":"62","hashOfConfig":"33"},{"size":970,"mtime":1611853300690,"results":"63","hashOfConfig":"33"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},"3ftvne",{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"66"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\_coding\\dental\\client\\src\\index.tsx",[],["128","129"],"E:\\_coding\\dental\\client\\src\\App.tsx",[],"E:\\_coding\\dental\\client\\src\\globalStyles.tsx",[],"E:\\_coding\\dental\\client\\src\\components\\index.ts",[],"E:\\_coding\\dental\\client\\src\\components\\Navbar\\Navbar.tsx",[],"E:\\_coding\\dental\\client\\src\\components\\Navbar\\Navbar.elements.tsx",[],"E:\\_coding\\dental\\client\\src\\components\\Toolbar\\Toolbar.elements.tsx",[],"E:\\_coding\\dental\\client\\src\\components\\Toolbar\\Toolbar.tsx",[],"E:\\_coding\\dental\\client\\src\\pages\\Dashboard.tsx",[],"E:\\_coding\\dental\\client\\src\\pages\\index.tsx",[],"E:\\_coding\\dental\\client\\src\\components\\Navbar\\MobileNavbar.tsx",[],"E:\\_coding\\dental\\client\\src\\components\\Navbar\\MobileNavbar.elements.tsx",[],"E:\\_coding\\dental\\client\\src\\store\\store.ts",[],"E:\\_coding\\dental\\client\\src\\store\\slices\\modalsSlice.ts",[],"E:\\_coding\\dental\\client\\src\\components\\modals\\MainModal.tsx",[],"E:\\_coding\\dental\\client\\src\\components\\modals\\Modals.elements.tsx",[],"E:\\_coding\\dental\\client\\src\\components\\modals\\AddPatientContent.tsx",[],"E:\\_coding\\dental\\client\\src\\components\\elements\\Elements.tsx",[],"E:\\_coding\\dental\\client\\src\\components\\elements\\Input.tsx",[],"E:\\_coding\\dental\\client\\src\\components\\elements\\Select.tsx",[],"E:\\_coding\\dental\\client\\src\\components\\modals\\NewAppointmentContent.tsx",[],"E:\\_coding\\dental\\client\\src\\components\\elements\\SelectWithInput.tsx",[],"E:\\_coding\\dental\\client\\src\\components\\modals\\PatientFormContent.tsx",[],"E:\\_coding\\dental\\client\\src\\graphql\\queries\\patient.ts",[],"E:\\_coding\\dental\\client\\src\\graphql\\queries\\dentist.ts",[],"E:\\_coding\\dental\\client\\src\\graphql\\queries\\treatment.ts",[],"E:\\_coding\\dental\\client\\src\\components\\daypicker\\CustomDayPicker.tsx",["130"],"import React, { useEffect, useRef, useState } from 'react';\r\nimport {\r\n  addWeeks,\r\n  eachDayOfInterval,\r\n  endOfWeek,\r\n  startOfWeek,\r\n  subWeeks,\r\n  format,\r\n} from 'date-fns';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\nimport { Label } from '../elements/Elements';\r\nimport {\r\n  DayPickerContainer,\r\n  DayPickerWrapper,\r\n  Indicator,\r\n  IndicatorButton,\r\n  StyledDayPicker,\r\n  WeekDisplay,\r\n  WeekPickerWrapper,\r\n} from './CustomDayPicke.Elements';\r\nimport SelectedDaysDisplay from './SelectedDaysDisplay';\r\nimport { useQuery } from '@apollo/client';\r\nimport {\r\n  GET_WEEKLY_APPOINTMENTS,\r\n  WeeklyAppointmentsData,\r\n  WeeklyAppointmentsVars,\r\n} from '../../graphql/queries/appointments';\r\n\r\nfunction getWeekDays(week: Week) {\r\n  const days = eachDayOfInterval(week);\r\n  return days;\r\n}\r\n\r\nfunction getWeekRange(date: Date) {\r\n  const res = {\r\n    start: startOfWeek(new Date(date), { weekStartsOn: 1 }),\r\n    end: endOfWeek(new Date(date), { weekStartsOn: 1 }),\r\n  };\r\n  return res;\r\n}\r\n\r\ntype Week = {\r\n  start: Date;\r\n  end: Date;\r\n};\r\n\r\ntype Props = {\r\n  dentistId: number | string;\r\n};\r\n\r\nconst defaultClinicId = 7;\r\n\r\nconst CustomDayPicker: React.FC<Props> = ({ dentistId }) => {\r\n  const [selectedDays, setSelectedDays] = useState<Date[]>();\r\n  const [selectedWeek, setSelectedWeek] = useState<Week>();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const { loading, data: availableAppointments } = useQuery<\r\n    WeeklyAppointmentsData,\r\n    WeeklyAppointmentsVars\r\n  >(GET_WEEKLY_APPOINTMENTS, {\r\n    variables: {\r\n      appointmentsInput: {\r\n        days: selectedDays!,\r\n        clinicId: defaultClinicId,\r\n        dentistId,\r\n      },\r\n    },\r\n    skip: !dentistId,\r\n  });\r\n\r\n\r\n\r\n  const handleWeekChange = (action: 'ADD' | 'SUB') => {\r\n    if (selectedWeek) {\r\n      let newSelectedWeek = selectedWeek;\r\n      if (action === 'ADD') {\r\n        newSelectedWeek = {\r\n          start: addWeeks(new Date(selectedWeek.start), 1),\r\n          end: addWeeks(new Date(selectedWeek.end), 1),\r\n        };\r\n      } else if (action === 'SUB') {\r\n        newSelectedWeek = {\r\n          start: subWeeks(new Date(selectedWeek.start), 1),\r\n          end: subWeeks(new Date(selectedWeek.end), 1),\r\n        };\r\n      }\r\n\r\n      const newSelectedDays = getWeekDays(newSelectedWeek);\r\n      setSelectedWeek(newSelectedWeek);\r\n      setSelectedDays(newSelectedDays);\r\n    }\r\n  };\r\n\r\n  const handleDayChange = (date: Date) => {\r\n    setSelectedDays(getWeekDays(getWeekRange(date)));\r\n    setSelectedWeek(getWeekRange(date));\r\n    setIsOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const today = new Date();\r\n    setSelectedDays(getWeekDays(getWeekRange(today)));\r\n    setSelectedWeek(getWeekRange(today));\r\n  }, []);\r\n\r\n  const pickerRef = useRef<DayPicker>();\r\n\r\n  //click outside\r\n  useEffect(() => {\r\n    function handleClickOutside(event: any) {\r\n      if (\r\n        pickerRef &&\r\n        pickerRef.current &&\r\n        !pickerRef.current.dayPicker.contains(event.target)\r\n      ) {\r\n        setIsOpen(false);\r\n      }\r\n    }\r\n\r\n    // Bind the event listener\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      // Unbind the event listener on clean up\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [pickerRef]);\r\n\r\n  let modifiers;\r\n  if (selectedDays && selectedDays.length > 0) {\r\n    modifiers = {\r\n      selectedRangeStart: selectedDays[0],\r\n      selectedRangeEnd: selectedDays[6],\r\n    };\r\n  }\r\n\r\n  return (\r\n    <DayPickerContainer>\r\n      <Label>Choose date</Label>\r\n      <WeekPickerWrapper>\r\n        <IndicatorButton onClick={() => handleWeekChange('SUB')} left>\r\n          <Indicator />\r\n        </IndicatorButton>\r\n        <WeekDisplay onClick={() => setIsOpen(!isOpen)}>\r\n          {selectedDays &&\r\n            selectedDays.length === 7 &&\r\n            format(new Date(selectedDays[0]), 'dd LLL') +\r\n              ' - ' +\r\n              format(new Date(selectedDays[6]), 'dd LLL')}\r\n        </WeekDisplay>\r\n        <IndicatorButton onClick={() => handleWeekChange('ADD')}>\r\n          <Indicator />\r\n        </IndicatorButton>\r\n      </WeekPickerWrapper>\r\n      {isOpen && (\r\n        <DayPickerWrapper>\r\n          <StyledDayPicker\r\n            ref={pickerRef}\r\n            selectedDays={selectedDays}\r\n            showOutsideDays\r\n            modifiers={modifiers}\r\n            onDayClick={handleDayChange}\r\n            firstDayOfWeek={1}\r\n          />\r\n        </DayPickerWrapper>\r\n      )}\r\n      <SelectedDaysDisplay availableAppointments={availableAppointments} />\r\n    </DayPickerContainer>\r\n  );\r\n};\r\n\r\nexport default CustomDayPicker;\r\n","E:\\_coding\\dental\\client\\src\\components\\daypicker\\CustomDayPicke.Elements.tsx",[],"E:\\_coding\\dental\\client\\src\\components\\daypicker\\SelectedDaysDisplay.tsx",[],"E:\\_coding\\dental\\client\\src\\components\\daypicker\\SelectedDaysDisplay.Elements.tsx",[],"E:\\_coding\\dental\\client\\src\\graphql\\queries\\appointments.ts",[],{"ruleId":"131","replacedBy":"132"},{"ruleId":"133","replacedBy":"134"},{"ruleId":"135","severity":1,"message":"136","line":59,"column":11,"nodeType":"137","messageId":"138","endLine":59,"endColumn":18},"no-native-reassign",["139"],"no-negated-in-lhs",["140"],"@typescript-eslint/no-unused-vars","'loading' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]